
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Job Shop Scheduling &#8212; CBE 40455/60455 Process Operations</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Scheduling Multipurpose Batch Processes using State-Task Networks" href="07-State-Task-Networks.html" />
    <link rel="prev" title="Machine Bottleneck" href="02-machine-bottleneck.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">CBE 40455/60455 Process Operations</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../intro.html">
                    CBE 40555/60455 Process Operations
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../01/syllabus.html">
   CBE 40455/60455 Process Operations: Syllabus
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/00-discrete-event-modeling.html">
   Introduction to Discrete Event Simulation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/01-simpy.html">
     Introduction to Simpy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/02-agent-based-models.html">
     Agent Based Models
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/03-queuing-systems.html">
     Simulating Queuing Systems
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/04-batch-process-prompt.html">
     Batch Chemical Process
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="00-scheduling.html">
   Scheduling
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01-critical-path-method.html">
     Critical Path Method
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02-machine-bottleneck.html">
     Machine Bottleneck
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Job Shop Scheduling
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="07-State-Task-Networks.html">
     Scheduling Multipurpose Batch Processes using State-Task Networks
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../04/00-uncertainty.html">
   Optimization under Uncertainty
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/vendor-problem.html">
     The Vendor Problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/airline-seating.html">
     Airline seat allocation problem
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../04/farmer-project.html">
     Solving the Farmer’s problem
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05/00-finance.html">
   Financial Risk and Diversification
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/01-measuring-return.html">
     Measuring Return
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/03-binomial-model-for-pricing-options.html">
     Binomial Model for Pricing Options
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/04-real-options.html">
     Real Options
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/05-portfolio-optimization.html">
     Portfolio Optimization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/06-portfolio-optimization-using-mean-absolute-deviation.html">
     Portfolio Optimization using Mean Absolute Deviation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/07-MAD-portfolio-optimization.html">
     Portfolio Optimization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/08-Log-Optimal-Growth-and-the-Kelly-Criterion.html">
     Log-Optimal Growth and the Kelly Criterion
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05/09-Log-Optimal-Portfolios.html">
     Log-Optimal Portfolios
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/jckantor/cbe60455/main?urlpath=tree/notebooks/03/03-job-shop-scheduling.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/jckantor/cbe60455/blob/main/notebooks/03/03-job-shop-scheduling.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/jckantor/cbe60455"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/jckantor/cbe60455/issues/new?title=Issue%20on%20page%20%2Fnotebooks/03/03-job-shop-scheduling.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/notebooks/03/03-job-shop-scheduling.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#background">
   Background
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#job-shop-example">
   Job Shop Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#task-decomposition">
   Task Decomposition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-formulation">
   Model Formulation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pyomo-implementation">
   Pyomo Implementation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#displaying-a-solution">
   Displaying a Solution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-results-with-gantt-charts">
   Visualizing Results with Gantt Charts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-to-scheduling-of-batch-processes">
   Application to Scheduling of Batch Processes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#single-product-strategies">
   Single Product Strategies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overlapping-tasks">
   Overlapping Tasks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unit-cleanout">
   Unit Cleanout
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#zero-wait-policy">
   Zero Wait Policy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#benchmark-problem-la19">
   Benchmark Problem LA19
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Job Shop Scheduling</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#background">
   Background
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#job-shop-example">
   Job Shop Example
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#task-decomposition">
   Task Decomposition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-formulation">
   Model Formulation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pyomo-implementation">
   Pyomo Implementation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#displaying-a-solution">
   Displaying a Solution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-results-with-gantt-charts">
   Visualizing Results with Gantt Charts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#application-to-scheduling-of-batch-processes">
   Application to Scheduling of Batch Processes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#single-product-strategies">
   Single Product Strategies
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#overlapping-tasks">
   Overlapping Tasks
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#unit-cleanout">
   Unit Cleanout
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#zero-wait-policy">
   Zero Wait Policy
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#benchmark-problem-la19">
   Benchmark Problem LA19
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="job-shop-scheduling">
<h1>Job Shop Scheduling<a class="headerlink" href="#job-shop-scheduling" title="Permalink to this headline">#</a></h1>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">#</a></h2>
<p>A job shop consists of a set of distinct machines that process jobs. Each job is a series of tasks that require use of particular machines for known durations, and which must be completed in specified order. The job shop scheduling problem is to schedule the jobs on the machines to minimize the time necessary to process all jobs (i.e, the makespan) or some other metric of productivity. Job shop scheduling is one of the classic problems in Operations Research.</p>
<p>Data consists of two tables. The first table is decomposition of the jobs into a series of tasks. Each task lists a job name, name of the required machine, and task duration. The second table list task pairs where the first task must be completed before the second task can be started. This formulation is quite general, but can also specify situations with no feasible solutions.</p>
</section>
<section id="job-shop-example">
<h2>Job Shop Example<a class="headerlink" href="#job-shop-example" title="Permalink to this headline">#</a></h2>
<p>The following example of a job shop is from from Christelle Gueret, Christian Prins, Marc Sevaux, “Applications of Optimization with Xpress-MP,” Dash Optimization, 2000.</p>
<p>In this example, there are three printed paper products that must pass through color printing presses in a particular order. The given data consists of a flowsheet showing the order in which each job passes through the color presses</p>
<p><img alt="jobshopdiagram.jpg" src="../../_images/jobshopdiagram.jpg" /></p>
<p>and a table of data showing, in minutes, the amount of time each job requires on each machine.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Machine</p></th>
<th class="text-align:center head"><p>Color</p></th>
<th class="text-align:center head"><p>Paper 1</p></th>
<th class="text-align:center head"><p>Paper 2</p></th>
<th class="text-align:center head"><p>Paper 3</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>1</p></td>
<td class="text-align:center"><p>Blue</p></td>
<td class="text-align:center"><p>45</p></td>
<td class="text-align:center"><p>20</p></td>
<td class="text-align:center"><p>12</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>2</p></td>
<td class="text-align:center"><p>Green</p></td>
<td class="text-align:center"><p>-</p></td>
<td class="text-align:center"><p>10</p></td>
<td class="text-align:center"><p>17</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>3</p></td>
<td class="text-align:center"><p>Yellow</p></td>
<td class="text-align:center"><p>10</p></td>
<td class="text-align:center"><p>34</p></td>
<td class="text-align:center"><p>28</p></td>
</tr>
</tbody>
</table>
<p>What is the minimum amount of time (i.e, what is the makespan) for this set of jobs?</p>
</section>
<section id="task-decomposition">
<h2>Task Decomposition<a class="headerlink" href="#task-decomposition" title="Permalink to this headline">#</a></h2>
<p>The first step in the analysis is to decompose the process into a series of tasks. Each task is a (job,machine) pair. Some tasks cannot start until a prerequisite task is completed.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Task (Job,Machine)</p></th>
<th class="text-align:center head"><p>Duration</p></th>
<th class="text-align:center head"><p>Prerequisite Task</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>(Paper 1, Blue)</p></td>
<td class="text-align:center"><p>45</p></td>
<td class="text-align:center"><p>-</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>(Paper 1, Yellow)</p></td>
<td class="text-align:center"><p>10</p></td>
<td class="text-align:center"><p>(Paper 1,Blue)</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>(Paper 2, Blue)</p></td>
<td class="text-align:center"><p>20</p></td>
<td class="text-align:center"><p>(Paper 2, Green)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>(Paper 2, Green)</p></td>
<td class="text-align:center"><p>10</p></td>
<td class="text-align:center"><p>-</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>(Paper 2, Yellow)</p></td>
<td class="text-align:center"><p>34</p></td>
<td class="text-align:center"><p>(Paper 2, Blue)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>(Paper 3, Blue)</p></td>
<td class="text-align:center"><p>12</p></td>
<td class="text-align:center"><p>(Paper 3, Yellow)</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>(Paper 3, Green)</p></td>
<td class="text-align:center"><p>17</p></td>
<td class="text-align:center"><p>(Paper 3, Blue)</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>(Paper 3, Yellow)</p></td>
<td class="text-align:center"><p>28</p></td>
<td class="text-align:center"><p>-</p></td>
</tr>
</tbody>
</table>
<p>We convert this to a JSON style representation where tasks are denoted by (Job,Machine) tuples in Python. The task data is stored in a Python dictionary indexed by (Job,Machine) tuples. The task data conists of a dictionary with duration (‘dur’) and (Job,Machine) pair for any prerequisite task.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TASKS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="s1">&#39;Paper_1&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">)</span>   <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_1&#39;</span><span class="p">,</span><span class="s1">&#39;Yellow&#39;</span><span class="p">)</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;Paper_1&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">)},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_2&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">)</span>   <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;Paper_2&#39;</span><span class="p">,</span><span class="s1">&#39;Green&#39;</span><span class="p">)},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_2&#39;</span><span class="p">,</span><span class="s1">&#39;Green&#39;</span><span class="p">)</span>  <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_2&#39;</span><span class="p">,</span><span class="s1">&#39;Yellow&#39;</span><span class="p">)</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">34</span><span class="p">,</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;Paper_2&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">)},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_3&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">)</span>   <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;Paper_3&#39;</span><span class="p">,</span><span class="s1">&#39;Yellow&#39;</span><span class="p">)},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_3&#39;</span><span class="p">,</span><span class="s1">&#39;Green&#39;</span><span class="p">)</span>  <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;Paper_3&#39;</span><span class="p">,</span><span class="s1">&#39;Blue&#39;</span><span class="p">)},</span>
    <span class="p">(</span><span class="s1">&#39;Paper_3&#39;</span><span class="p">,</span><span class="s1">&#39;Yellow&#39;</span><span class="p">)</span> <span class="p">:</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="mi">28</span><span class="p">},</span>   
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="model-formulation">
<h2>Model Formulation<a class="headerlink" href="#model-formulation" title="Permalink to this headline">#</a></h2>
<p>Each task is represented as an ordered pair <span class="math notranslate nohighlight">\((j,m)\)</span> where <span class="math notranslate nohighlight">\(j\)</span> is a job, and <span class="math notranslate nohighlight">\(m\)</span> is a machine.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Parameter</p></th>
<th class="text-align:left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><span class="math notranslate nohighlight">\(\text{dur}_{j,m}\)</span></p></td>
<td class="text-align:left"><p>Duration of task <span class="math notranslate nohighlight">\((j,m)\)</span></p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><span class="math notranslate nohighlight">\(\text{prec}_{j,m}\)</span></p></td>
<td class="text-align:left"><p>A task <span class="math notranslate nohighlight">\((k,n) = \text{Prec}_{j,m}\)</span> that must be completed before task <span class="math notranslate nohighlight">\((j,m)\)</span></p></td>
</tr>
</tbody>
</table>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Decision Variables</p></th>
<th class="text-align:left head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p><span class="math notranslate nohighlight">\(\text{makespan}\)</span></p></td>
<td class="text-align:left"><p>Completion of all jobs</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p><span class="math notranslate nohighlight">\(\text{start}_{j,m}\)</span></p></td>
<td class="text-align:left"><p>Start time for task <span class="math notranslate nohighlight">\((j,m)\)</span></p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p><span class="math notranslate nohighlight">\(y_{j,k,m}\)</span></p></td>
<td class="text-align:left"><p>boolean variable for tasks <span class="math notranslate nohighlight">\((i,m)\)</span> and <span class="math notranslate nohighlight">\((j,m)\)</span> on machine <span class="math notranslate nohighlight">\(m\)</span> where <span class="math notranslate nohighlight">\(j &lt; k\)</span></p></td>
</tr>
</tbody>
</table>
<p>Upper and lower bounds on the start and completion of task <span class="math notranslate nohighlight">\((j,m)\)</span></p>
<p>\begin{align}
\text{start}<em>{j,m} &amp; \geq 0\
\text{start}</em>{j,m}+\text{Dur}_{j,m} &amp; \leq \text{makespan}
\end{align}</p>
<p>Satisfying prerequisite tasks</p>
<p>\begin{align}
\text{start}<em>{k,n}+\text{Dur}</em>{k,n}\leq\text{start}<em>{j,m}\ \ \ \ \text{for } (k,n) =\text{Prec}</em>{j,m}
\end{align}</p>
<p>Disjunctive Constraints</p>
<p>If <span class="math notranslate nohighlight">\(M\)</span> is big enough, then satisfying
\begin{align}
\text{start}<em>{j,m}+\text{Dur}</em>{j,m} &amp; \leq \text{start}<em>{k,m}+M(1 - y</em>{j,k,m})\
\text{start}<em>{k,m}+\text{Dur}</em>{k,m} &amp; \leq \text{start}<em>{j,m}+My</em>{j,k,m}
\end{align}</p>
<p>avoids conflicts for use of the same machine.</p>
</section>
<section id="pyomo-implementation">
<h2>Pyomo Implementation<a class="headerlink" href="#pyomo-implementation" title="Permalink to this headline">#</a></h2>
<p>The job shop scheduling problem is implemented below in Pyomo. The implementation consists of of a function JobShop(TASKS) that accepts a dictionary of tanks and returns a pandas dataframe containing an optimal schedule of tasks. An optional argument to JobShop allows one to specify a solver.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">):</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>

    <span class="n">JOBS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">MACHINES</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">JOBS</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
        <span class="n">MACHINES</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
        
    <span class="n">BigM</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">([</span><span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
    
    <span class="n">model</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">JOBS</span><span class="p">,</span> <span class="n">MACHINES</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">makespan</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">JOBS</span><span class="p">,</span><span class="n">JOBS</span><span class="p">,</span><span class="n">MACHINES</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="n">Boolean</span><span class="p">)</span>

    <span class="nd">@model</span><span class="o">.</span><span class="n">Objective</span><span class="p">(</span><span class="n">sense</span><span class="o">=</span><span class="n">minimize</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">Obj</span><span class="p">(</span><span class="n">m</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">model</span><span class="o">.</span><span class="n">makespan</span>

    <span class="n">model</span><span class="o">.</span><span class="n">cons</span> <span class="o">=</span> <span class="n">ConstraintList</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">makespan</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;prec&#39;</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)]:</span>
            <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;prec&#39;</span><span class="p">]</span>
            <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">])</span>
        
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">MACHINES</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> 
                                   <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">BigM</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">model</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]))</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> 
                                   <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">BigM</span><span class="o">*</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]))</span>

    <span class="c1"># solve with indicated solver</span>
    <span class="n">SolverFactory</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    
    <span class="c1"># create pandas dataframe with the optimal schedule</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[[</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">,</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">](),</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">]()</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]]</span> 
             <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="p">]</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span> <span class="s1">&#39;Machine&#39;</span><span class="p">,</span> <span class="s1">&#39;Start&#39;</span><span class="p">,</span> <span class="s1">&#39;Duration&#39;</span><span class="p">,</span> <span class="s1">&#39;Finish&#39;</span><span class="p">])</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span>
    <span class="n">schedule</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span> <span class="s2">&quot;Machine&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">schedule</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">schedule</span> <span class="o">=</span> <span class="n">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="displaying-a-solution">
<h2>Displaying a Solution<a class="headerlink" href="#displaying-a-solution" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Textualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">):</span>
    
    <span class="n">JOBS</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;Job&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">MACHINES</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;Machine&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">JOB SCHEDULES</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">JOBS</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Job: &quot;</span> <span class="o">+</span> <span class="n">j</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">MACHINE SCHEDULES</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">MACHINES</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Machine: &quot;</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">xs</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>

<span class="n">Textualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>JOB SCHEDULES

Job: Paper_1
         Start  Duration  Finish
Machine                         
Blue      42.0        45    87.0
Yellow    87.0        10    97.0

Job: Paper_2
         Start  Duration  Finish
Machine                         
Green      0.0        10    10.0
Blue      10.0        20    30.0
Yellow    53.0        34    87.0

Job: Paper_3
         Start  Duration  Finish
Machine                         
Yellow     0.0        28    28.0
Blue      30.0        12    42.0
Green     42.0        17    59.0


MACHINE SCHEDULES

Machine: Green
         Start  Duration  Finish
Job                             
Paper_2    0.0        10    10.0
Paper_3   42.0        17    59.0

Machine: Yellow
         Start  Duration  Finish
Job                             
Paper_3    0.0        28    28.0
Paper_2   53.0        34    87.0
Paper_1   87.0        10    97.0

Machine: Blue
         Start  Duration  Finish
Job                             
Paper_2   10.0        20    30.0
Paper_3   30.0        12    42.0
Paper_1   42.0        45    87.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualizing-results-with-gantt-charts">
<h2>Visualizing Results with Gantt Charts<a class="headerlink" href="#visualizing-results-with-gantt-charts" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="k">def</span> <span class="nf">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">):</span>
    
    <span class="n">JOBS</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;Job&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">MACHINES</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">schedule</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="s1">&#39;Machine&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
    <span class="n">makespan</span> <span class="o">=</span> <span class="n">schedule</span><span class="p">[</span><span class="s1">&#39;Finish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">5</span> <span class="o">+</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">JOBS</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">MACHINES</span><span class="p">))</span><span class="o">/</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">jdx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">JOBS</span><span class="p">):</span>
        <span class="n">jdx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">mdx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">MACHINES</span><span class="p">:</span>
            <span class="n">mdx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Dark2</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="n">mdx</span><span class="o">%</span><span class="k">7</span>]
            <span class="k">if</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Start&#39;</span><span class="p">],</span><span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Finish&#39;</span><span class="p">]],</span>
                     <span class="p">[</span><span class="n">jdx</span><span class="p">,</span><span class="n">jdx</span><span class="p">],</span><span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span><span class="n">solid_capstyle</span><span class="o">=</span><span class="s1">&#39;butt&#39;</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Start&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Finish&#39;</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="n">jdx</span><span class="p">,</span>
                    <span class="n">m</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span>
                    <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="n">jdx</span><span class="o">+</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Job Schedule&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">JOBS</span><span class="p">)))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">JOBS</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">makespan</span><span class="p">,</span><span class="n">makespan</span><span class="p">],</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(),</span><span class="s1">&#39;r--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">makespan</span><span class="p">,</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">makespan</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span>
            <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">mdx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">MACHINES</span><span class="p">):</span>
        <span class="n">mdx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">jdx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
            <span class="n">jdx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">c</span> <span class="o">=</span> <span class="n">mpl</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Dark2</span><span class="o">.</span><span class="n">colors</span><span class="p">[</span><span class="n">jdx</span><span class="o">%</span><span class="k">7</span>]
            <span class="k">if</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">schedule</span><span class="o">.</span><span class="n">index</span><span class="p">:</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Start&#39;</span><span class="p">],</span><span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Finish&#39;</span><span class="p">]],</span>
                     <span class="p">[</span><span class="n">mdx</span><span class="p">,</span><span class="n">mdx</span><span class="p">],</span><span class="n">color</span> <span class="o">=</span> <span class="n">c</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span><span class="n">solid_capstyle</span><span class="o">=</span><span class="s1">&#39;butt&#39;</span><span class="p">)</span>
                <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">((</span><span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Start&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">schedule</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">),</span><span class="s1">&#39;Finish&#39;</span><span class="p">])</span><span class="o">/</span><span class="mf">2.0</span><span class="p">,</span><span class="n">mdx</span><span class="p">,</span>
                    <span class="n">j</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span>
                    <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="n">mdx</span><span class="o">+</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Machine Schedule&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">MACHINES</span><span class="p">)))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">MACHINES</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">makespan</span><span class="p">,</span><span class="n">makespan</span><span class="p">],</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(),</span><span class="s1">&#39;r--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">makespan</span><span class="p">,</span><span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">makespan</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span>
            <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/03-job-shop-scheduling_12_0.png" src="../../_images/03-job-shop-scheduling_12_0.png" />
</div>
</div>
</section>
<section id="application-to-scheduling-of-batch-processes">
<h2>Application to Scheduling of Batch Processes<a class="headerlink" href="#application-to-scheduling-of-batch-processes" title="Permalink to this headline">#</a></h2>
<p>We will now turn our attention to the application of the job shop scheduling problem to the short term scheduling of batch processes. We illustrate these techniques using an example from Dunn (2013).</p>
<p><img alt="Screen%20Shot%202017-09-14%20at%209.09.57%20AM.png" src="notebooks/03/attachment:Screen%20Shot%202017-09-14%20at%209.09.57%20AM.png" /></p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:center head"><p>Process</p></th>
<th class="text-align:center head"><p>Mixer</p></th>
<th class="text-align:center head"><p>Reactor</p></th>
<th class="text-align:center head"><p>Separator</p></th>
<th class="text-align:center head"><p>Packaging</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:center"><p>A</p></td>
<td class="text-align:center"><p>1.0</p></td>
<td class="text-align:center"><p>5.0</p></td>
<td class="text-align:center"><p>4.0</p></td>
<td class="text-align:center"><p>1.5</p></td>
</tr>
<tr class="row-odd"><td class="text-align:center"><p>B</p></td>
<td class="text-align:center"><p>-</p></td>
<td class="text-align:center"><p>-</p></td>
<td class="text-align:center"><p>4.5</p></td>
<td class="text-align:center"><p>1.0</p></td>
</tr>
<tr class="row-even"><td class="text-align:center"><p>C</p></td>
<td class="text-align:center"><p>-</p></td>
<td class="text-align:center"><p>3.0</p></td>
<td class="text-align:center"><p>5.0</p></td>
<td class="text-align:center"><p>1.5</p></td>
</tr>
</tbody>
</table>
</section>
<section id="single-product-strategies">
<h2>Single Product Strategies<a class="headerlink" href="#single-product-strategies" title="Permalink to this headline">#</a></h2>
<p>Before going further, we create a function to streamline the generation of T</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Recipe</span><span class="p">(</span><span class="n">jobs</span><span class="p">,</span> <span class="n">machines</span><span class="p">,</span> <span class="n">durations</span><span class="p">):</span>
    <span class="n">TASKS</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">:</span>
        <span class="n">prec</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">d</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">machines</span><span class="p">,</span> <span class="n">durations</span><span class="p">):</span>
            <span class="n">task</span> <span class="o">=</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">prec</span> <span class="o">==</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>
                <span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">({(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="n">d</span><span class="p">}})</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">({(</span><span class="n">j</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span> <span class="n">d</span><span class="p">,</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span> <span class="n">prec</span><span class="p">}})</span>
            <span class="n">prec</span> <span class="o">=</span> <span class="n">task</span>
    <span class="k">return</span> <span class="n">TASKS</span>
        
<span class="n">RecipeA</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Mixer&#39;</span><span class="p">,</span> <span class="s1">&#39;Reactor&#39;</span><span class="p">,</span> <span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39; Packaging&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">])</span>
<span class="n">RecipeB</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span> <span class="s1">&#39;Packaging&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mf">4.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="n">RecipeC</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">(</span><span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span> <span class="s1">&#39;Reactor&#39;</span><span class="p">,</span> <span class="s1">&#39;Packaging&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Visualize</span><span class="p">(</span><span class="n">JobShop</span><span class="p">(</span><span class="n">RecipeA</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/03-job-shop-scheduling_16_0.png" src="../../_images/03-job-shop-scheduling_16_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Visualize</span><span class="p">(</span><span class="n">JobShop</span><span class="p">(</span><span class="n">RecipeB</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/03-job-shop-scheduling_17_0.png" src="../../_images/03-job-shop-scheduling_17_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Visualize</span><span class="p">(</span><span class="n">JobShop</span><span class="p">(</span><span class="n">RecipeC</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/03-job-shop-scheduling_18_0.png" src="../../_images/03-job-shop-scheduling_18_0.png" />
</div>
</div>
</section>
<section id="overlapping-tasks">
<h2>Overlapping Tasks<a class="headerlink" href="#overlapping-tasks" title="Permalink to this headline">#</a></h2>
<p>Let’s now consider an optimal scheduling problem where we are wish to make two batches of Product A.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TASKS</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">],[</span><span class="s1">&#39;Mixer&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">1.5</span><span class="p">])</span>
<span class="n">schedule</span> <span class="o">=</span> <span class="n">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gurobi&#39;</span><span class="p">)</span>
<span class="n">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">schedule</span><span class="p">[</span><span class="s1">&#39;Finish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>16.5
</pre></div>
</div>
<img alt="../../_images/03-job-shop-scheduling_20_1.png" src="../../_images/03-job-shop-scheduling_20_1.png" />
</div>
</div>
<p>Earlier we found it tood 11.5 hours to produce one batch of product A.  As we see here, we can produce a second batch with only 5.0 additional hours because some of the tasks overlap.  The overlapping of tasks is the key to gaining efficiency in batch processing facilities.</p>
<p>Let’s next consider production of a single batch each of products A, B, and C.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TASKS</span> <span class="o">=</span> <span class="n">RecipeA</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">RecipeB</span><span class="p">)</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">RecipeC</span><span class="p">)</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;cbc&#39;</span><span class="p">)</span>
<span class="n">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">schedule</span><span class="p">[</span><span class="s1">&#39;Finish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>15.0
</pre></div>
</div>
<img alt="../../_images/03-job-shop-scheduling_22_1.png" src="../../_images/03-job-shop-scheduling_22_1.png" />
</div>
</div>
<p>The individual production of A, B, and C required 11.5, 5.5, and 9.5 hours, respectively, for a total of 25.5 hours. As we see here, by scheduling the production simultaneously, we can get all three batches done in just 15 hours.</p>
<p>As we see below, each additional set of three products takes an additionl 13 hours.  So there is considerable efficiency gained by scheduling over longer intervals whenever possible.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">TASKS</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">],[</span><span class="s1">&#39;Mixer&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">1.5</span><span class="p">])</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">],[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mf">4.5</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">],[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">1.5</span><span class="p">]))</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span><span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gurobi&#39;</span><span class="p">)</span>
<span class="n">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">schedule</span><span class="p">[</span><span class="s1">&#39;Finish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>27.9999990802
</pre></div>
</div>
<img alt="../../_images/03-job-shop-scheduling_24_1.png" src="../../_images/03-job-shop-scheduling_24_1.png" />
</div>
</div>
</section>
<section id="unit-cleanout">
<h2>Unit Cleanout<a class="headerlink" href="#unit-cleanout" title="Permalink to this headline">#</a></h2>
<p>A common feature in batch unit operations is a requirement that equipment be cleaned prior to reuse.</p>
<p>In most cases the time needed for clean out would be equipment and product specific. Bur for the purposes of illustration, we implement this policy with a single non-negative parameter <span class="math notranslate nohighlight">\(t_{clean} \geq 0\)</span> which, if specified, requires a period no less than <span class="math notranslate nohighlight">\(t_{clean}\)</span> between the finish of one task and the start of another on every piece of equipment.</p>
<p>This is implemented by modifying the usual disjunctive constraints to avoid machine conflicts, i.e.,</p>
<p>\begin{align}
\text{start}<em>{j,m}+\text{Dur}</em>{j,m} &amp; \leq \text{start}<em>{k,m}+M(1 - y</em>{j,k,m})\
\text{start}<em>{k,m}+\text{Dur}</em>{k,m} &amp; \leq \text{start}<em>{j,m}+My</em>{j,k,m}
\end{align}</p>
<p>to read</p>
<p>\begin{align}
\text{start}<em>{j,m}+\text{Dur}</em>{j,m} + t_{clean} &amp; \leq \text{start}<em>{k,m}+M(1 - y</em>{j,k,m})\
\text{start}<em>{k,m}+\text{Dur}</em>{k,m} + t_{clean} &amp; \leq \text{start}<em>{j,m}+My</em>{j,k,m}
\end{align}</p>
<p>for sufficiently large <span class="math notranslate nohighlight">\(M\)</span>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">,</span> <span class="n">tclean</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>

    <span class="n">JOBS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">MACHINES</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">JOBS</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
        <span class="n">MACHINES</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
        
    <span class="n">BigM</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">([</span><span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
    
    <span class="n">model</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">JOBS</span><span class="p">,</span> <span class="n">MACHINES</span><span class="p">,</span> <span class="n">domain</span> <span class="o">=</span> <span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">makespan</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">JOBS</span><span class="p">,</span><span class="n">JOBS</span><span class="p">,</span><span class="n">MACHINES</span><span class="p">,</span> <span class="n">domain</span> <span class="o">=</span> <span class="n">Boolean</span><span class="p">)</span>

    <span class="n">model</span><span class="o">.</span><span class="n">Obj</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">makespan</span><span class="p">,</span> <span class="n">sense</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">)</span>

    <span class="n">model</span><span class="o">.</span><span class="n">cons</span> <span class="o">=</span> <span class="n">ConstraintList</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">tclean</span> <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">makespan</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;prec&#39;</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)]:</span>
            <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;prec&#39;</span><span class="p">]</span>
            <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">])</span>
        
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">MACHINES</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">tclean</span>
                                   <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">BigM</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">model</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]))</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span>  <span class="o">+</span> <span class="n">tclean</span>
                                   <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">BigM</span><span class="o">*</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]))</span>

    <span class="c1"># solve with indicated solver</span>
    <span class="n">SolverFactory</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    
    <span class="c1"># create pandas dataframe with the optimal schedule</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">](),</span><span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]()</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]]</span> 
             <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="p">]</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span><span class="s1">&#39;Machine&#39;</span><span class="p">,</span><span class="s1">&#39;Start&#39;</span><span class="p">,</span><span class="s1">&#39;Duration&#39;</span><span class="p">,</span><span class="s1">&#39;Finish&#39;</span><span class="p">])</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span>
    <span class="n">schedule</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span><span class="s2">&quot;Machine&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">schedule</span>


<span class="n">TASKS</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">],[</span><span class="s1">&#39;Mixer&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">1.5</span><span class="p">])</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">],[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mf">4.5</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">],[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">1.5</span><span class="p">]))</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gurobi&#39;</span><span class="p">,</span> <span class="n">tclean</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Makespan = &quot;</span><span class="p">,</span> <span class="n">schedule</span><span class="p">[</span><span class="s1">&#39;Finish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Makespan =  30.5
</pre></div>
</div>
<img alt="../../_images/03-job-shop-scheduling_26_1.png" src="../../_images/03-job-shop-scheduling_26_1.png" />
</div>
</div>
</section>
<section id="zero-wait-policy">
<h2>Zero Wait Policy<a class="headerlink" href="#zero-wait-policy" title="Permalink to this headline">#</a></h2>
<p>One of the issues in the use of job shop scheduling for batch processing are situations where there it isn’t possible to store intermediate materials. If there is no way to store intermediates, either in the processing equipment or in external vessels, then a <strong>zero-wait</strong> policy may be appropriate.</p>
<p>A zero-wait policy requires subsequent processing machines to be available immediately upon completion of any task. To implement this policy, the usual precident sequencing constraint of a job shop scheduling problem, i.e.,</p>
<p>\begin{align*}
\text{start}<em>{k,n}+\text{Dur}</em>{k,n} \leq \text{start}<em>{j,m}\ \ \ \ \text{for } (k,n) =\text{Prec}</em>{j,m}
\end{align*}</p>
<p>is changed to</p>
<p>\begin{align*}
\text{start}<em>{k,n}+\text{Dur}</em>{k,n} = \text{start}<em>{j,m}\ \ \ \ \text{for } (k,n) =\text{Prec}</em>{j,m}\text{ and ZW is True}
\end{align*}</p>
<p>if the zero-wait policy is in effect.</p>
<p>While this could be implemented on an equipment or product specific basis, here we add an optional ZW flag to the JobShop function that, by default, is set to False.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyomo.environ</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;glpk&#39;</span><span class="p">,</span> <span class="n">tclean</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ZW</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">ConcreteModel</span><span class="p">()</span>

    <span class="n">JOBS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">MACHINES</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">JOBS</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
        <span class="n">MACHINES</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">m</span><span class="p">)</span>
        
    <span class="n">BigM</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="nb">sum</span><span class="p">([</span><span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">()])</span>
    
    <span class="n">model</span><span class="o">.</span><span class="n">start</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">JOBS</span><span class="p">,</span> <span class="n">MACHINES</span><span class="p">,</span> <span class="n">domain</span> <span class="o">=</span> <span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">makespan</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="n">NonNegativeReals</span><span class="p">)</span>
    <span class="n">model</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Var</span><span class="p">(</span><span class="n">JOBS</span><span class="p">,</span><span class="n">JOBS</span><span class="p">,</span><span class="n">MACHINES</span><span class="p">,</span> <span class="n">domain</span> <span class="o">=</span> <span class="n">Boolean</span><span class="p">)</span>

    <span class="n">model</span><span class="o">.</span><span class="n">Obj</span> <span class="o">=</span> <span class="n">Objective</span><span class="p">(</span><span class="n">expr</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">makespan</span><span class="p">,</span> <span class="n">sense</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">)</span>

    <span class="n">model</span><span class="o">.</span><span class="n">cons</span> <span class="o">=</span> <span class="n">ConstraintList</span><span class="p">()</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">tclean</span> <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">makespan</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;prec&#39;</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)]:</span>
            <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)</span> <span class="o">=</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;prec&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">ZW</span><span class="p">:</span>
                <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">==</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">n</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">])</span>
        
    <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">MACHINES</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">JOBS</span><span class="p">:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">j</span> <span class="o">&lt;</span> <span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="ow">and</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">tclean</span>
                                   <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">BigM</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">model</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]))</span>
                    <span class="n">model</span><span class="o">.</span><span class="n">cons</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]</span>  <span class="o">+</span> <span class="n">tclean</span>
                                   <span class="o">&lt;=</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]</span> <span class="o">+</span> <span class="n">BigM</span><span class="o">*</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">y</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">m</span><span class="p">]))</span>

    <span class="c1"># solve with indicated solver</span>
    <span class="n">SolverFactory</span><span class="p">(</span><span class="n">solver</span><span class="p">)</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
    
    <span class="c1"># create pandas dataframe with the optimal schedule</span>
    <span class="n">results</span> <span class="o">=</span> <span class="p">[[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">](),</span><span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">],</span> <span class="n">model</span><span class="o">.</span><span class="n">start</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">]()</span> <span class="o">+</span> <span class="n">TASKS</span><span class="p">[(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)][</span><span class="s1">&#39;dur&#39;</span><span class="p">]]</span> 
             <span class="k">for</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">m</span><span class="p">)</span> <span class="ow">in</span> <span class="n">TASKS</span><span class="p">]</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">,</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span><span class="s1">&#39;Machine&#39;</span><span class="p">,</span><span class="s1">&#39;Start&#39;</span><span class="p">,</span><span class="s1">&#39;Duration&#39;</span><span class="p">,</span><span class="s1">&#39;Finish&#39;</span><span class="p">])</span>
    <span class="n">schedule</span> <span class="o">=</span> <span class="n">schedule</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;Start&#39;</span><span class="p">)</span>
    <span class="n">schedule</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Job&#39;</span><span class="p">,</span><span class="s2">&quot;Machine&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">schedule</span>

<span class="n">TASKS</span> <span class="o">=</span> <span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;A1&#39;</span><span class="p">,</span><span class="s1">&#39;A2&#39;</span><span class="p">],[</span><span class="s1">&#39;Mixer&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mf">1.5</span><span class="p">])</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="s1">&#39;B2&#39;</span><span class="p">],[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mf">4.5</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="n">TASKS</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">Recipe</span><span class="p">([</span><span class="s1">&#39;C1&#39;</span><span class="p">,</span><span class="s1">&#39;C2&#39;</span><span class="p">],[</span><span class="s1">&#39;Separator&#39;</span><span class="p">,</span><span class="s1">&#39;Reactor&#39;</span><span class="p">,</span><span class="s1">&#39;Packaging&#39;</span><span class="p">],[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mf">1.5</span><span class="p">]))</span>

<span class="n">schedule</span> <span class="o">=</span> <span class="n">JobShop</span><span class="p">(</span><span class="n">TASKS</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;gurobi&#39;</span><span class="p">,</span> <span class="n">tclean</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">ZW</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">Visualize</span><span class="p">(</span><span class="n">schedule</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Makespan = &quot;</span><span class="p">,</span> <span class="n">schedule</span><span class="p">[</span><span class="s1">&#39;Finish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Makespan =  32.0
</pre></div>
</div>
<img alt="../../_images/03-job-shop-scheduling_28_1.png" src="../../_images/03-job-shop-scheduling_28_1.png" />
</div>
</div>
</section>
<section id="benchmark-problem-la19">
<h2>Benchmark Problem LA19<a class="headerlink" href="#benchmark-problem-la19" title="Permalink to this headline">#</a></h2>
<p>Lawrence 1984,
Solved in 1991. This cell can be very long running … minutes to hours. Delete the comment tag on the last line only if you wish to run the cell to see the outcome of a long and challenging calculation that represented the state-of-the-art several decades ago.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">2  44  3   5  5  58  4  97  0   9  7  84  8  77  9  96  1  58  6  89</span>
<span class="s2">4  15  7  31  1  87  8  57  0  77  3  85  2  81  5  39  9  73  6  21</span>
<span class="s2">9  82  6  22  4  10  3  70  1  49  0  40  8  34  2  48  7  80  5  71</span>
<span class="s2">1  91  2  17  7  62  5  75  8  47  4  11  3   7  6  72  9  35  0  55</span>
<span class="s2">6  71  1  90  3  75  0  64  2  94  8  15  4  12  7  67  9  20  5  50</span>
<span class="s2">7  70  5  93  8  77  2  29  4  58  6  93  3  68  1  57  9   7  0  52</span>
<span class="s2">6  87  1  63  4  26  5   6  2  82  3  27  7  56  8  48  9  36  0  95</span>
<span class="s2">0  36  5  15  8  41  9  78  3  76  6  84  4  30  7  76  2  36  1   8</span>
<span class="s2">5  88  2  81  3  13  6  82  4  54  7  13  8  29  9  40  1  78  0  75</span>
<span class="s2">9  88  4  54  6  64  7  32  0  52  2   6  8  54  5  82  3   6  1  26</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">TASKS</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">prec</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

<span class="n">lines</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
<span class="n">job</span><span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
    <span class="n">j</span> <span class="o">=</span> <span class="s2">&quot;J</span><span class="si">{0:1d}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>
    <span class="n">nums</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="n">prec</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">m</span><span class="p">,</span><span class="n">dur</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">nums</span><span class="p">[::</span><span class="mi">2</span><span class="p">],</span><span class="n">nums</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]):</span>
        <span class="n">task</span> <span class="o">=</span> <span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="s1">&#39;M</span><span class="si">{0:s}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">m</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">prec</span><span class="p">:</span>
            <span class="n">TASKS</span><span class="p">[</span><span class="n">task</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">dur</span><span class="p">),</span> <span class="s1">&#39;prec&#39;</span><span class="p">:</span><span class="n">prec</span><span class="p">}</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">TASKS</span><span class="p">[</span><span class="n">task</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;dur&#39;</span><span class="p">:</span><span class="nb">int</span><span class="p">(</span><span class="n">dur</span><span class="p">)}</span>
        <span class="n">prec</span> <span class="o">=</span> <span class="n">task</span>
    <span class="n">job</span> <span class="o">+=</span> <span class="mi">1</span>
    
<span class="c1">#Visualize(JobShop(TASKS, solver=&#39;mosek&#39;))</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks/03"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="02-machine-bottleneck.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Machine Bottleneck</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="07-State-Task-Networks.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Scheduling Multipurpose Batch Processes using State-Task Networks</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Jeffrey C. Kantor<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>